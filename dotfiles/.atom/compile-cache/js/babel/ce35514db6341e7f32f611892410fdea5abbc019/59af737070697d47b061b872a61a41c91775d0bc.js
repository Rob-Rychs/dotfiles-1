Object.defineProperty(exports, '__esModule', {
	value: true
});
/** @babel */

var notificationTemplate = function notificationTemplate(props) {
	return '\n' + props.messages.reduce(function (prev, curr) {
		return '' + prev + curr.replace(/\r|\n/gm, '').replace('@', '  \n') + '\n\n';
	}, '') + '\n\n### Active Configuration\n|Editorconfig-Property|Applied Setting|\n|--------|------:|\n|`end_of_line`|`' + props.end_of_line + '`|\n|`charset`|`' + props.charset + '`|\n|`indent_style`|`' + props.indent_style + '`|\n|`indent_size`/ `tab_width`|`' + props.tab_width + '`|\n|`insert_final_newline`|`' + props.insert_final_newline + '`|\n|`trim_trailing_whitespace`|`' + props.trim_trailing_whitespace + '`|\n|`max_line_length`|`' + props.max_line_length + '`|\n\n_(auto: atom-editorconfig is not influencing that behavior. A full description of the properties can be found on editorconfig.org.)_\n\n' + (props.filename !== undefined && props.filename || '') + '\n';
};

var init = function init() {
	var textEditor = atom.workspace.getActiveTextEditor();
	if (textEditor && textEditor.getBuffer() && textEditor.getBuffer().editorconfig) {
		var buffer = textEditor.getBuffer();
		var ecfg = buffer.editorconfig;
		var settings = ecfg.settings;
		var lineEndings = { '\n': '\\n', '\r': '\\r', '\r\n': '\\r\\n' };

		var properties = {
			filename: buffer.getUri(),
			messages: ecfg.messages,
			// eslint-disable-next-line camelcase
			end_of_line: lineEndings[settings.end_of_line] || settings.end_of_line,
			charset: settings.charset,
			// eslint-disable-next-line camelcase
			indent_style: settings.indent_style,
			// eslint-disable-next-line camelcase
			tab_width: settings.tab_width,
			// eslint-disable-next-line camelcase
			insert_final_newline: settings.insert_final_newline,
			// eslint-disable-next-line camelcase
			trim_trailing_whitespace: settings.trim_trailing_whitespace,
			// eslint-disable-next-line camelcase
			max_line_length: settings.max_line_length
		};

		var notificationOptions = {
			description: notificationTemplate(properties),
			dismissable: true
		};

		switch (ecfg.state) {
			case 'success':
				atom.notifications.addSuccess(textEditor.getTitle(), notificationOptions);
				break;
			case 'warning':
				atom.notifications.addWarning(textEditor.getTitle(), notificationOptions);
				break;
			case 'error':
				atom.notifications.addError(textEditor.getTitle(), notificationOptions);
				break;
			default:
				atom.notifications.addInfo(textEditor.getTitle(), notificationOptions);
		}
	}
};

var subscriber = function subscriber() {
	atom.commands.add('atom-workspace', 'EditorConfig:show-state', init);
};

exports['default'] = subscriber;
exports.init = init;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9sYXJzZ3JhdWJuZXIvLmRvdGZpbGVzL2RvdGZpbGVzLy5hdG9tL3BhY2thZ2VzL2VkaXRvcmNvbmZpZy9jb21tYW5kcy9zaG93LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBRUEsSUFBTSxvQkFBb0IsR0FBRyxTQUF2QixvQkFBb0IsQ0FBRyxLQUFLLEVBQUk7QUFDckMsZUFDQyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFDLElBQUksRUFBRSxJQUFJLEVBQUs7QUFDdkMsY0FBVSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsVUFBTztFQUN4RSxFQUFFLEVBQUUsQ0FBQyxtSEFLZSxLQUFLLENBQUMsV0FBVyx3QkFDckIsS0FBSyxDQUFDLE9BQU8sNkJBQ1IsS0FBSyxDQUFDLFlBQVkseUNBQ0osS0FBSyxDQUFDLFNBQVMscUNBQ3JCLEtBQUssQ0FBQyxvQkFBb0IseUNBQ3RCLEtBQUssQ0FBQyx3QkFBd0IsZ0NBQ3ZDLEtBQUssQ0FBQyxlQUFlLHVKQUk1QyxBQUFDLEtBQUssQ0FBQyxRQUFRLEtBQUssU0FBUyxJQUFJLEtBQUssQ0FBQyxRQUFRLElBQUssRUFBRSxDQUFBLFFBQ3REO0NBQ0QsQ0FBQzs7QUFFRixJQUFNLElBQUksR0FBRyxTQUFQLElBQUksR0FBUztBQUNsQixLQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLG1CQUFtQixFQUFFLENBQUM7QUFDeEQsS0FBSSxVQUFVLElBQ2IsVUFBVSxDQUFDLFNBQVMsRUFBRSxJQUN0QixVQUFVLENBQUMsU0FBUyxFQUFFLENBQUMsWUFBWSxFQUFFO0FBQ3JDLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztBQUN0QyxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDO0FBQ2pDLE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7QUFDL0IsTUFBTSxXQUFXLEdBQUcsRUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBQyxDQUFDOztBQUVqRSxNQUFNLFVBQVUsR0FBRztBQUNsQixXQUFRLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBRTtBQUN6QixXQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7O0FBRXZCLGNBQVcsRUFBRSxXQUFXLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxXQUFXO0FBQ3RFLFVBQU8sRUFBRSxRQUFRLENBQUMsT0FBTzs7QUFFekIsZUFBWSxFQUFFLFFBQVEsQ0FBQyxZQUFZOztBQUVuQyxZQUFTLEVBQUUsUUFBUSxDQUFDLFNBQVM7O0FBRTdCLHVCQUFvQixFQUFFLFFBQVEsQ0FBQyxvQkFBb0I7O0FBRW5ELDJCQUF3QixFQUFFLFFBQVEsQ0FBQyx3QkFBd0I7O0FBRTNELGtCQUFlLEVBQUUsUUFBUSxDQUFDLGVBQWU7R0FDekMsQ0FBQzs7QUFFRixNQUFNLG1CQUFtQixHQUFHO0FBQzNCLGNBQVcsRUFBRSxvQkFBb0IsQ0FBQyxVQUFVLENBQUM7QUFDN0MsY0FBVyxFQUFFLElBQUk7R0FDakIsQ0FBQzs7QUFFRixVQUFRLElBQUksQ0FBQyxLQUFLO0FBQ2pCLFFBQUssU0FBUztBQUNiLFFBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQzFFLFVBQU07QUFBQSxBQUNQLFFBQUssU0FBUztBQUNiLFFBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQzFFLFVBQU07QUFBQSxBQUNQLFFBQUssT0FBTztBQUNYLFFBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUUsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0FBQ3hFLFVBQU07QUFBQSxBQUNQO0FBQ0MsUUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxFQUFFLG1CQUFtQixDQUFDLENBQUM7QUFBQSxHQUN4RTtFQUNEO0NBQ0QsQ0FBQzs7QUFFRixJQUFNLFVBQVUsR0FBRyxTQUFiLFVBQVUsR0FBUztBQUN4QixLQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSx5QkFBeUIsRUFBRSxJQUFJLENBQUMsQ0FBQztDQUNyRSxDQUFDOztxQkFFTSxVQUFVO1FBQWEsSUFBSSxHQUFKLElBQUkiLCJmaWxlIjoiL1VzZXJzL2xhcnNncmF1Ym5lci8uZG90ZmlsZXMvZG90ZmlsZXMvLmF0b20vcGFja2FnZXMvZWRpdG9yY29uZmlnL2NvbW1hbmRzL3Nob3cuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiogQGJhYmVsICovXG5cbmNvbnN0IG5vdGlmaWNhdGlvblRlbXBsYXRlID0gcHJvcHMgPT4ge1xuXHRyZXR1cm4gYFxuJHtwcm9wcy5tZXNzYWdlcy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcblx0cmV0dXJuIGAke3ByZXZ9JHtjdXJyLnJlcGxhY2UoL1xccnxcXG4vZ20sICcnKS5yZXBsYWNlKCdAJywgJyAgXFxuJyl9XFxuXFxuYDtcbn0sICcnKX1cblxuIyMjIEFjdGl2ZSBDb25maWd1cmF0aW9uXG58RWRpdG9yY29uZmlnLVByb3BlcnR5fEFwcGxpZWQgU2V0dGluZ3xcbnwtLS0tLS0tLXwtLS0tLS06fFxufFxcYGVuZF9vZl9saW5lXFxgfFxcYCR7cHJvcHMuZW5kX29mX2xpbmV9XFxgfFxufFxcYGNoYXJzZXRcXGB8XFxgJHtwcm9wcy5jaGFyc2V0fVxcYHxcbnxcXGBpbmRlbnRfc3R5bGVcXGB8XFxgJHtwcm9wcy5pbmRlbnRfc3R5bGV9XFxgfFxufFxcYGluZGVudF9zaXplXFxgLyBcXGB0YWJfd2lkdGhcXGB8XFxgJHtwcm9wcy50YWJfd2lkdGh9XFxgfFxufFxcYGluc2VydF9maW5hbF9uZXdsaW5lXFxgfFxcYCR7cHJvcHMuaW5zZXJ0X2ZpbmFsX25ld2xpbmV9XFxgfFxufFxcYHRyaW1fdHJhaWxpbmdfd2hpdGVzcGFjZVxcYHxcXGAke3Byb3BzLnRyaW1fdHJhaWxpbmdfd2hpdGVzcGFjZX1cXGB8XG58XFxgbWF4X2xpbmVfbGVuZ3RoXFxgfFxcYCR7cHJvcHMubWF4X2xpbmVfbGVuZ3RofVxcYHxcblxuXyhhdXRvOiBhdG9tLWVkaXRvcmNvbmZpZyBpcyBub3QgaW5mbHVlbmNpbmcgdGhhdCBiZWhhdmlvci4gQSBmdWxsIGRlc2NyaXB0aW9uIG9mIHRoZSBwcm9wZXJ0aWVzIGNhbiBiZSBmb3VuZCBvbiBlZGl0b3Jjb25maWcub3JnLilfXG5cbiR7KHByb3BzLmZpbGVuYW1lICE9PSB1bmRlZmluZWQgJiYgcHJvcHMuZmlsZW5hbWUpIHx8ICcnfVxuYDtcbn07XG5cbmNvbnN0IGluaXQgPSAoKSA9PiB7XG5cdGNvbnN0IHRleHRFZGl0b3IgPSBhdG9tLndvcmtzcGFjZS5nZXRBY3RpdmVUZXh0RWRpdG9yKCk7XG5cdGlmICh0ZXh0RWRpdG9yICYmXG5cdFx0dGV4dEVkaXRvci5nZXRCdWZmZXIoKSAmJlxuXHRcdHRleHRFZGl0b3IuZ2V0QnVmZmVyKCkuZWRpdG9yY29uZmlnKSB7XG5cdFx0Y29uc3QgYnVmZmVyID0gdGV4dEVkaXRvci5nZXRCdWZmZXIoKTtcblx0XHRjb25zdCBlY2ZnID0gYnVmZmVyLmVkaXRvcmNvbmZpZztcblx0XHRjb25zdCBzZXR0aW5ncyA9IGVjZmcuc2V0dGluZ3M7XG5cdFx0Y29uc3QgbGluZUVuZGluZ3MgPSB7J1xcbic6ICdcXFxcbicsICdcXHInOiAnXFxcXHInLCAnXFxyXFxuJzogJ1xcXFxyXFxcXG4nfTtcblxuXHRcdGNvbnN0IHByb3BlcnRpZXMgPSB7XG5cdFx0XHRmaWxlbmFtZTogYnVmZmVyLmdldFVyaSgpLFxuXHRcdFx0bWVzc2FnZXM6IGVjZmcubWVzc2FnZXMsXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5cdFx0XHRlbmRfb2ZfbGluZTogbGluZUVuZGluZ3Nbc2V0dGluZ3MuZW5kX29mX2xpbmVdIHx8IHNldHRpbmdzLmVuZF9vZl9saW5lLFxuXHRcdFx0Y2hhcnNldDogc2V0dGluZ3MuY2hhcnNldCxcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2Vcblx0XHRcdGluZGVudF9zdHlsZTogc2V0dGluZ3MuaW5kZW50X3N0eWxlLFxuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuXHRcdFx0dGFiX3dpZHRoOiBzZXR0aW5ncy50YWJfd2lkdGgsXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5cdFx0XHRpbnNlcnRfZmluYWxfbmV3bGluZTogc2V0dGluZ3MuaW5zZXJ0X2ZpbmFsX25ld2xpbmUsXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG5cdFx0XHR0cmltX3RyYWlsaW5nX3doaXRlc3BhY2U6IHNldHRpbmdzLnRyaW1fdHJhaWxpbmdfd2hpdGVzcGFjZSxcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2Vcblx0XHRcdG1heF9saW5lX2xlbmd0aDogc2V0dGluZ3MubWF4X2xpbmVfbGVuZ3RoXG5cdFx0fTtcblxuXHRcdGNvbnN0IG5vdGlmaWNhdGlvbk9wdGlvbnMgPSB7XG5cdFx0XHRkZXNjcmlwdGlvbjogbm90aWZpY2F0aW9uVGVtcGxhdGUocHJvcGVydGllcyksXG5cdFx0XHRkaXNtaXNzYWJsZTogdHJ1ZVxuXHRcdH07XG5cblx0XHRzd2l0Y2ggKGVjZmcuc3RhdGUpIHtcblx0XHRcdGNhc2UgJ3N1Y2Nlc3MnOlxuXHRcdFx0XHRhdG9tLm5vdGlmaWNhdGlvbnMuYWRkU3VjY2Vzcyh0ZXh0RWRpdG9yLmdldFRpdGxlKCksIG5vdGlmaWNhdGlvbk9wdGlvbnMpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3dhcm5pbmcnOlxuXHRcdFx0XHRhdG9tLm5vdGlmaWNhdGlvbnMuYWRkV2FybmluZyh0ZXh0RWRpdG9yLmdldFRpdGxlKCksIG5vdGlmaWNhdGlvbk9wdGlvbnMpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2Vycm9yJzpcblx0XHRcdFx0YXRvbS5ub3RpZmljYXRpb25zLmFkZEVycm9yKHRleHRFZGl0b3IuZ2V0VGl0bGUoKSwgbm90aWZpY2F0aW9uT3B0aW9ucyk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0YXRvbS5ub3RpZmljYXRpb25zLmFkZEluZm8odGV4dEVkaXRvci5nZXRUaXRsZSgpLCBub3RpZmljYXRpb25PcHRpb25zKTtcblx0XHR9XG5cdH1cbn07XG5cbmNvbnN0IHN1YnNjcmliZXIgPSAoKSA9PiB7XG5cdGF0b20uY29tbWFuZHMuYWRkKCdhdG9tLXdvcmtzcGFjZScsICdFZGl0b3JDb25maWc6c2hvdy1zdGF0ZScsIGluaXQpO1xufTtcblxuZXhwb3J0IHtzdWJzY3JpYmVyIGFzIGRlZmF1bHQsIGluaXR9O1xuIl19